<!DOCTYPE html>
<html>
<head>
    <title>Voices77</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Geologica:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>

<div>
<center>
<h3>Welcome!</h3><br>
<h3 style="margin-top: 30vw;">Site School 77</h3>
<img class="glav" src="https://i.postimg.cc/nzJk0bct/1-FC38-ECF-FFE1-40-A3-97-E5-AE00-FB073599.jpg">
</center>
<img class="plane" src="https://i.postimg.cc/GpwnnSBw/ADAEAE45-3-E74-47-C5-B698-C08496-FD6-BDB.png">
<img class="book" src="https://i.postimg.cc/NfHKfykp/00-EE8-AD8-E8-E0-4-B88-AB75-278-B0576-C6-E2.png">
<img class="ball" src="https://i.postimg.cc/k5z4mqRk/F2-D988-EA-2775-4-E02-ADBD-9-C0439-D78-C25.png">
</div>

<button class="info"><h2 style="font-size: 10px;">Info</h2></button>
<button class="vote"><h2 style="font-size: 10px;">Vote</h2></button>


<div id="likes-container">
    <span style="margin-top: 20vw;" id="count">0</span>
    <button style="margin-top: 20vw;"  id="like">Лайк</button>
</div>

</body>

<style>
  body {
    background-color: rgb(247, 247, 247);
    margin: 0;
    overflow-x: hidden;
  }
  h1 {
    font-family: Geologica; 
    color: rgb(0, 0, 0); 
    margin-top: 10vw; 
    position: fixed;
  }
  .head {
    background-color: rgb(249, 250, 252);
    width: 100vw;
    height: 20vw;
    position: fixed;
  }
  .info {
    background-color: rgb(130, 164, 194);
    border: none;
    width: 30vw;
    margin-left: 5vw;
    border-radius: 10px;
    margin-top: 5vw;
  }
  .vote {
    background-color: rgb(228, 228, 228);
    border: none;
    width: 30vw;
    margin-left: 3vw;
    border-radius: 10px;
    margin-top: 5vw;
  }
  .glav {
    background-color: rgb(127, 160, 189);
    width: 200vw;
    height: 180vw;
    margin-top: -5vw;
  }
  h3 {
    position: absolute; 
    margin-top: 20vw;
    font-family: Geologica;
    color: white;
    font-size: 12vw;
    margin-left: 5vw;
  }
  .book {
    position: absolute;
    margin-top: -88vw;
    width: 100vw;
    margin-left: -25vw;
  }
  .ball {
    position: absolute;
    margin-top: -100vw;
    width: 100vw;
    margin-left: 25vw;
  }
  .plane {
    position: absolute;
    margin-top: -150vw;
    width: 100vw;
    margin-left: -10vw;
  }

</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

  
    const firebaseConfig = {
        apiKey: "AIzaSyDFMiKbqbngn0kd5bvRmaU_zP-Rmfp-FLc",
        authDomain: "voices77.firebaseapp.com",
        databaseURL: "https://voices77-default-rtdb.firebaseio.com",
        projectId: "voices77",
        storageBucket: "voices77.appspot.com",
        messagingSenderId: "1011794629005",
        appId: "1:1011794629005:web:f13f1a6d544cd835506dc4",
        measurementId: "G-SGR6XX94HD"
      };
  
      const app = initializeApp(firebaseConfig);

const db = getDatabase(app);
const likeButton = document.getElementById("like");
const likeCount = document.getElementById("count");

function updateLikeCount() {
  let likes = parseInt(likeCount.textContent);
  likeCount.textContent = likes;
}

// Обработчик клика на кнопку лайка
likeButton.addEventListener("click", () => {
  // Увеличиваем счетчик лайков
  let likes = parseInt(likeCount.textContent);
  likes++;
  likeCount.textContent = likes;
  
  set(ref(db, 'counts/'), {
    count: likes 
  });
});

// Получаем значение счетчика лайков из Firebase при загрузке страницы
get(ref(db, 'counts/')).then((snapshot) => {
  if (snapshot.exists()) {
    const data = snapshot.val();
    likeCount.textContent = data.count;
  } else {
    console.log('No data available');
  }
}).catch((error) => {
  console.error(error);
});
</script>
</html>
  

